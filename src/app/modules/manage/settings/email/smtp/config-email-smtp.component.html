<div>
    <div>
        <form test-id="config-email-smtp-form" [formGroup]="formGroup">
            <p fxFill class="config-email-smtp-explanation ">
                <mat-form-field appearance="fill" fxFill class="config-email-smtp-width">
                    <mat-label>{{"User"|translate}}</mat-label>
                    <input matInput test-id="config-email-smtp-user-input" placeholder="ferrumgate"
                        formControlName="user" [(ngModel)]="model.user" (ngModelChange)="modelChanged($event)">
                    <mat-hint>{{"EmailUserHint"|translate}}</mat-hint>
                    <mat-error>{{error.user|translate}}</mat-error>

                </mat-form-field>
            </p>
            <p fxFill class="config-email-smtp-explanation ">
                <mat-form-field appearance="fill" fxFill class="config-email-smtp-width">
                    <mat-label>{{"Password"|translate}}</mat-label>
                    <input matInput test-id="config-email-smtp-pass-input" placeholder="PaSSwoRd" formControlName="pass"
                        [(ngModel)]="model.pass" (ngModelChange)="modelChanged($event)">
                    <mat-hint>{{"EmailPassHint"|translate}}</mat-hint>
                    <mat-error>{{error.pass|translate}}</mat-error>

                </mat-form-field>
            </p>
            <p fxFill class="config-email-smtp-explanation ">
                <mat-form-field appearance="fill" fxFill class="config-email-smtp-width">
                    <mat-label>{{"Host"|translate}}</mat-label>
                    <input matInput test-id="config-email-smtp-host-input" placeholder="localhost"
                        formControlName="host" [(ngModel)]="model.host" (ngModelChange)="modelChanged($event)" required>
                    <mat-hint>{{"EmailHostHint"|translate}}</mat-hint>
                    <mat-error>{{error.host|translate}}</mat-error>

                </mat-form-field>
            </p>
            <p fxFill class="config-email-smtp-explanation ">
                <mat-form-field appearance="fill" fxFill class="config-email-smtp-width">
                    <mat-label>{{"Port"|translate}}</mat-label>

                    <input type="number" matInput test-id="config-email-smtp-port-input" placeholder="587"
                        formControlName="port" [(ngModel)]="model.port" (ngModelChange)="modelChanged($event)" required>
                    <mat-hint>{{"EmailPortHint"|translate}}</mat-hint>
                    <mat-error>{{error.port|translate}}</mat-error>

                </mat-form-field>
            </p>


        </form>
        <p fxFill class="config-email-smtp-explanation ">
            <mat-checkbox test-id="gateway-checkbox-enabled" [(ngModel)]="model.isSecure"
                (ngModelChange)="modelChanged($event)">
                {{"TLS"|translate}}</mat-checkbox>
        </p>
    </div>

    <div>
        <mat-divider></mat-divider>
        <mat-toolbar style="height:40px">
            <mat-action-row class="config-email-smtp-actions" fxFlex fxLayoutAlign="start center">
                <button *ngIf="canDelete()" test-id="config-email-smtp-delete-button" mat-icon-button color="primary"
                    matTooltip="{{'Delete'|translate}}" (click)="delete()">
                    <mat-icon>delete</mat-icon>
                </button>
                <button *ngIf="canSend()" test-id="config-email-smtp-send-button" mat-icon-button color="primary"
                    matTooltip="{{'Check'|translate}}" (click)="check()">
                    <mat-icon>send</mat-icon>
                </button>

                <span *ngIf="model.isChanged" fxFlex fxLayoutAlign="end center">
                    <button mat-icon-button color="warn" matTooltip="{{'CancelChanges'|translate}}" (click)="clear()">
                        <mat-icon>close</mat-icon>
                    </button>
                    <button test-id="setttings-config-email-smtp-ok-button" mat-icon-button color="warn"
                        matTooltip="{{'SaveChanges'|translate}}" (click)="saveOrUpdate()">
                        <mat-icon>check</mat-icon>
                    </button>
                </span>


            </mat-action-row>
        </mat-toolbar>


    </div>

</div>